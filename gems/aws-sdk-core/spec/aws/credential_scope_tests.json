{
    "testCases": [
        {
            "documentation": "When no credential scope is set, no credential scope is resolved.",
            "expect": {
                "credentialScope": null
            },
            "environmentVariables": {},
            "profileVariables": {
                "aws_access_key_id": "AKID",
                "aws_secret_access_key": "SECRET"
            },
            "programmaticConfigVariables": {
                "region": "us-east-1"
            }
        },
        {
            "documentation": "Credential scope may be sourced from an environment variable.",
            "expect": {
                "credentialScope": "us-east-1"
            },
            "environmentVariables": {
                "AWS_CREDENTIAL_SCOPE": "us-east-1",
                "AWS_ACCESS_KEY_ID": "AKID",
                "AWS_SECRET_ACCESS_KEY": "SECRET"
            },
            "profileVariables": {},
            "programmaticConfigVariables": {
                "region": "us-east-1"
            }
        },
        {
            "documentation": "Credential scope may be sourced from an AWS profile file.",
            "expect": {
                "credentialScope": "us-east-1"
            },
            "environmentVariables": {},
            "profileVariables": {
                "aws_credential_scope": "us-east-1",
                "aws_access_key_id": "AKID",
                "aws_secret_access_key": "SECRET"
            },
            "programmaticConfigVariables": {
                "region": "us-east-1"
            }
        },
        {
            "documentation": "Credential scope may be configured programmatically.",
            "expect": {
                "credentialScope": "us-east-1"
            },
            "environmentVariables": {},
            "profileVariables": {},
            "programmaticConfigVariables": {
                "credentialScope": "us-east-1",
                "accessKeyId": "AKID",
                "secretAccessKey": "SECRET",
                "region": "us-east-1"
            }
        },
        {
            "documentation": "Credential scope set programmatically takes precedence over environment variables.",
            "expect": {
                "credentialScope": "us-west-2"
            },
            "environmentVariables": {
                "AWS_CREDENTIAL_SCOPE": "us-east-1",
                "AWS_ACCESS_KEY_ID": "AKID",
                "AWS_SECRET_ACCESS_KEY": "SECRET"
            },
            "profileVariables": {},
            "programmaticConfigVariables": {
                "credentialScope": "us-west-2",
                "accessKeyId": "AKID",
                "secretAccessKey": "SECRET",
                "region": "us-west-2"
            }
        },
        {
            "documentation": "Credential scope set by environment variable takes precedence over profile file variables.",
            "expect": {
                "credentialScope": "us-west-2"
            },
            "environmentVariables": {
                "AWS_CREDENTIAL_SCOPE": "us-west-2",
                "AWS_ACCESS_KEY_ID": "AKID",
                "AWS_SECRET_ACCESS_KEY": "SECRET"
            },
            "profileVariables": {
                "aws_credential_scope": "us-east-1",
                "aws_access_key_id": "AKID",
                "aws_secret_access_key": "SECRET"
            },
            "programmaticConfigVariables": {
                "region": "us-west-2"
            }
        },
        {
            "documentation": "(Endpoint Rules) Credential scope must match the configured region",
            "expect": {
                "resolutionError": "The configured credential scope doesn't match the configured region. Expected 'us-west-1' but it was 'us-east-2'. Please unset the credential scope or set it to 'us-west-1'."
            },
            "environmentVariables": {},
            "profileVariables": {},
            "programmaticConfigVariables": {
                "credentialScope": "us-east-2",
                "region": "us-west-1"
            }
        }
    ]
}