[
  {
    "description":"Kitchen Sink",
    "given":{
      "os":{
        "family":"Linux",
        "version":"5.4.228-131.415.AMZN2.X86_64"
      },
      "language":{
        "name":"{language}",
        "version":"{version}"
      },
      "environmentVariables":{
        "AWS_EXECUTION_ENV":"lambda",
        "AWS_SDK_UA_APP_ID":"123456"
      },
      "sharedConfigFile":{
        "retry_mode":"standard"
      },
      "feature":{
        "name":"s3-transfer",
        "version":""
      },
      "framework":{
        "name":"foobar",
        "version":""
      }
    },
    "expectedRequestHeaders":{
      "user-agent":{
        "containsInExactOrder":[
          "aws-sdk-{language}/{version}",
          "ua/2.0",
          "os/linux#5.4.228-131.415.AMZN2.X86_64",
          "lang/{language}#{version}",
          "exec-env/lambda"
        ],
        "containsInAnyOrder":[
          "cfg/retry-mode#standard",
          "app/123456",
          "ft/s3-transfer",
          "lib/foobar"
        ]
      }
    }
  },
  {
    "description":"Valid app ID set on environment variable",
    "given":{
      "environmentVariables":{
        "AWS_SDK_UA_APP_ID":"123456"
      }
    },
    "expectedRequestHeaders":{
      "user-agent":{
        "contains":[
          "app/123456"
        ]
      }
    }
  },
  {
    "description":"Valid app ID set in config file",
    "given":{
      "sharedConfigFile":{
        "sdk_ua_app_id":"123456"
      }
    },
    "expectedRequestHeaders":{
      "user-agent":{
        "contains":[
          "app/123456"
        ]
      }
    }
  },
  {
    "description":"Valid app ID set in both environment variable and config file. Environment variable takes precedence",
    "given":{
      "environmentVariables":{
        "AWS_SDK_UA_APP_ID":"123456"
      },
      "sharedConfigFile":{
        "sdk_ua_app_id":"7891011"
      }
    },
    "expectedRequestHeaders":{
      "user-agent":{
        "contains":[
          "app/123456"
        ]
      }
    }
  },
  {
    "description":"App ID have invalid characters",
    "given":{
      "environmentVariables":{
        "AWS_SDK_UA_APP_ID":"1234("
      }
    },
    "expectedRequestHeaders":{
      "user-agent":{
        "contains":[
          "1234-"
        ]
      }
    }
  }
]